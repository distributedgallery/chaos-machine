{"id":"dywo","dependencies":[{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/package.json","includedInParent":true,"mtime":1533205844951},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/package.json","includedInParent":true,"mtime":1533206489309},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/.babelrc","includedInParent":true,"mtime":1533206516246},{"name":"ipld-dag-pb","loc":{"line":3,"column":22},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipld-dag-pb/src/index.js"},{"name":"ipld-dag-cbor","loc":{"line":4,"column":24},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipld-dag-cbor/src/index.js"},{"name":"promisify-es6","loc":{"line":5,"column":26},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/promisify-es6/index.js"},{"name":"cids","loc":{"line":6,"column":20},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/cids/src/index.js"},{"name":"multihashes","loc":{"line":7,"column":26},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/multihashes/src/index.js"},{"name":"../utils/send-one-file","loc":{"line":8,"column":28},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/dag/put.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/send-one-file.js"}],"generated":{"js":"\"use strict\";var r=require(\"ipld-dag-pb\"),e=require(\"ipld-dag-cbor\"),a=require(\"promisify-es6\"),i=require(\"cids\"),t=require(\"multihashes\"),n=require(\"../utils/send-one-file\");module.exports=function(o){var s=n(o,\"dag/put\");return a(function(a,n,o){if(\"function\"==typeof n&&(o=n),(n=n||{}).hash&&(n.hashAlg=n.hash,delete n.hash),n.cid&&(n.format||n.hashAlg))return o(new Error(\"Can't put dag node. Please provide either `cid` OR `format` and `hash` options.\"));if(n.format&&!n.hashAlg||!n.format&&n.hashAlg)return o(new Error(\"Can't put dag node. Please provide `format` AND `hash` options.\"));if(n.cid){var h=void 0;try{h=new i(n.cid)}catch(r){return o(r)}n.format=h.codec,n.hashAlg=t.decode(h.multihash).name,delete n.cid}function u(r,e){if(r)return o(r);var a={qs:{hash:n.hashAlg,format:n.format,\"input-enc\":n.inputEnc}};s(e,a,function(r,e){return r?o(r):e.Cid?o(null,new i(e.Cid[\"/\"])):o(e)})}\"dag-cbor\"===(n=Object.assign({format:\"dag-cbor\",hashAlg:\"sha2-256\",inputEnc:\"raw\"},n)).format?e.util.serialize(a,u):\"dag-pb\"===n.format?r.util.serialize(a,u):u(null,a)})};","map":{"mappings":[{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagPB","original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":3,"column":22},"generated":{"line":1,"column":27}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagCBOR","original":{"line":4,"column":6},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":4,"column":24},"generated":{"line":1,"column":52}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"promisify","original":{"line":5,"column":6},"generated":{"line":1,"column":69}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":5,"column":18},"generated":{"line":1,"column":71}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":5,"column":26},"generated":{"line":1,"column":79}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"CID","original":{"line":6,"column":6},"generated":{"line":1,"column":96}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":6,"column":12},"generated":{"line":1,"column":98}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":6,"column":20},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"multihash","original":{"line":7,"column":6},"generated":{"line":1,"column":114}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":7,"column":18},"generated":{"line":1,"column":116}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":7,"column":26},"generated":{"line":1,"column":124}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"SendOneFile","original":{"line":8,"column":6},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"require","original":{"line":8,"column":20},"generated":{"line":1,"column":141}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":8,"column":28},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"module","original":{"line":10,"column":0},"generated":{"line":1,"column":175}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"exports","original":{"line":10,"column":7},"generated":{"line":1,"column":182}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":10,"column":17},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"send","original":{"line":10,"column":18},"generated":{"line":1,"column":199}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"sendOneFile","original":{"line":11,"column":8},"generated":{"line":1,"column":202}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"sendOneFile","original":{"line":11,"column":8},"generated":{"line":1,"column":206}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"SendOneFile","original":{"line":11,"column":22},"generated":{"line":1,"column":208}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"send","original":{"line":11,"column":34},"generated":{"line":1,"column":210}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":11,"column":40},"generated":{"line":1,"column":212}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"promisify","original":{"line":13,"column":9},"generated":{"line":1,"column":223}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"promisify","original":{"line":13,"column":9},"generated":{"line":1,"column":230}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":13,"column":19},"generated":{"line":1,"column":232}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagNode","original":{"line":13,"column":20},"generated":{"line":1,"column":241}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":13,"column":29},"generated":{"line":1,"column":243}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":13,"column":38},"generated":{"line":1,"column":245}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":25,"column":8},"generated":{"line":1,"column":248}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":14,"column":27},"generated":{"line":1,"column":251}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":14,"column":15},"generated":{"line":1,"column":270}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":15,"column":17},"generated":{"line":1,"column":274}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":15,"column":17},"generated":{"line":1,"column":276}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":18,"column":14},"generated":{"line":1,"column":280}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":18,"column":14},"generated":{"line":1,"column":282}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":18,"column":25},"generated":{"line":1,"column":285}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hash","original":{"line":20,"column":16},"generated":{"line":1,"column":289}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":21,"column":14},"generated":{"line":1,"column":296}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":21,"column":14},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":21,"column":24},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hash","original":{"line":21,"column":32},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":22,"column":13},"generated":{"line":1,"column":320}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hash","original":{"line":22,"column":21},"generated":{"line":1,"column":322}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":25,"column":8},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":25,"column":16},"generated":{"line":1,"column":330}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":25,"column":24},"generated":{"line":1,"column":336}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":25,"column":32},"generated":{"line":1,"column":338}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":25,"column":42},"generated":{"line":1,"column":346}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":25,"column":50},"generated":{"line":1,"column":348}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":26,"column":13},"generated":{"line":1,"column":357}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":26,"column":13},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":26,"column":22},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"Error","original":{"line":26,"column":26},"generated":{"line":1,"column":370}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":26,"column":32},"generated":{"line":1,"column":376}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":27,"column":11},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":27,"column":16},"generated":{"line":1,"column":463}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":27,"column":24},"generated":{"line":1,"column":465}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":27,"column":35},"generated":{"line":1,"column":474}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":27,"column":43},"generated":{"line":1,"column":476}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":27,"column":57},"generated":{"line":1,"column":486}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":27,"column":65},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":27,"column":75},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":27,"column":83},"generated":{"line":1,"column":498}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":28,"column":13},"generated":{"line":1,"column":506}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":28,"column":13},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":28,"column":22},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"Error","original":{"line":28,"column":26},"generated":{"line":1,"column":519}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":28,"column":32},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":31,"column":8},"generated":{"line":1,"column":593}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":31,"column":8},"generated":{"line":1,"column":596}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":31,"column":16},"generated":{"line":1,"column":598}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":31,"column":21},"generated":{"line":1,"column":602}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":32,"column":10},"generated":{"line":1,"column":603}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":32,"column":10},"generated":{"line":1,"column":607}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":32,"column":6},"generated":{"line":1,"column":614}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":34,"column":10},"generated":{"line":1,"column":616}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":35,"column":14},"generated":{"line":1,"column":620}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":35,"column":14},"generated":{"line":1,"column":622}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"CID","original":{"line":35,"column":18},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":35,"column":22},"generated":{"line":1,"column":628}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":35,"column":30},"generated":{"line":1,"column":630}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":36,"column":8},"generated":{"line":1,"column":635}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":36,"column":15},"generated":{"line":1,"column":641}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":37,"column":15},"generated":{"line":1,"column":644}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":37,"column":15},"generated":{"line":1,"column":651}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":37,"column":24},"generated":{"line":1,"column":653}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":40,"column":14},"generated":{"line":1,"column":656}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":40,"column":14},"generated":{"line":1,"column":658}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":40,"column":23},"generated":{"line":1,"column":665}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"codec","original":{"line":40,"column":27},"generated":{"line":1,"column":667}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":41,"column":14},"generated":{"line":1,"column":673}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":41,"column":14},"generated":{"line":1,"column":675}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"multihash","original":{"line":41,"column":24},"generated":{"line":1,"column":683}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"decode","original":{"line":41,"column":34},"generated":{"line":1,"column":685}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":41,"column":41},"generated":{"line":1,"column":692}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"multihash","original":{"line":41,"column":45},"generated":{"line":1,"column":694}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"name","original":{"line":41,"column":56},"generated":{"line":1,"column":705}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":42,"column":13},"generated":{"line":1,"column":717}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"cid","original":{"line":42,"column":21},"generated":{"line":1,"column":719}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"finalize","original":{"line":62,"column":13},"generated":{"line":1,"column":723}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"finalize","original":{"line":62,"column":13},"generated":{"line":1,"column":732}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":62,"column":23},"generated":{"line":1,"column":734}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"serialized","original":{"line":62,"column":28},"generated":{"line":1,"column":736}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":63,"column":10},"generated":{"line":1,"column":739}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":63,"column":10},"generated":{"line":1,"column":742}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":63,"column":24},"generated":{"line":1,"column":744}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":63,"column":24},"generated":{"line":1,"column":751}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":63,"column":33},"generated":{"line":1,"column":753}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"sendOptions","original":{"line":64,"column":12},"generated":{"line":1,"column":756}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"sendOptions","original":{"line":64,"column":12},"generated":{"line":1,"column":760}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":64,"column":26},"generated":{"line":1,"column":762}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":65,"column":12},"generated":{"line":1,"column":763}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":65,"column":12},"generated":{"line":1,"column":766}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":66,"column":16},"generated":{"line":1,"column":767}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":66,"column":16},"generated":{"line":1,"column":772}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"hashAlg","original":{"line":66,"column":24},"generated":{"line":1,"column":774}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":67,"column":18},"generated":{"line":1,"column":782}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":67,"column":18},"generated":{"line":1,"column":789}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":67,"column":26},"generated":{"line":1,"column":791}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":68,"column":23},"generated":{"line":1,"column":798}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":68,"column":23},"generated":{"line":1,"column":810}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"inputEnc","original":{"line":68,"column":31},"generated":{"line":1,"column":812}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"serialized","original":{"line":71,"column":18},"generated":{"line":1,"column":823}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"serialized","original":{"line":71,"column":18},"generated":{"line":1,"column":825}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"sendOptions","original":{"line":71,"column":30},"generated":{"line":1,"column":827}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":71,"column":43},"generated":{"line":1,"column":829}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":71,"column":44},"generated":{"line":1,"column":838}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"result","original":{"line":71,"column":49},"generated":{"line":1,"column":840}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":72,"column":12},"generated":{"line":1,"column":843}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":72,"column":12},"generated":{"line":1,"column":850}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":73,"column":17},"generated":{"line":1,"column":852}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"err","original":{"line":73,"column":26},"generated":{"line":1,"column":854}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"result","original":{"line":75,"column":12},"generated":{"line":1,"column":857}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":75,"column":12},"generated":{"line":1,"column":859}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":76,"column":17},"generated":{"line":1,"column":863}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":76,"column":26},"generated":{"line":1,"column":865}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":76,"column":32},"generated":{"line":1,"column":870}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"CID","original":{"line":76,"column":36},"generated":{"line":1,"column":874}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"result","original":{"line":76,"column":40},"generated":{"line":1,"column":876}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":76,"column":40},"generated":{"line":1,"column":878}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":76,"column":54},"generated":{"line":1,"column":882}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"callback","original":{"line":78,"column":17},"generated":{"line":1,"column":889}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"result","original":{"line":78,"column":26},"generated":{"line":1,"column":891}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":53,"column":27},"generated":{"line":1,"column":896}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"Object","original":{"line":51,"column":14},"generated":{"line":1,"column":910}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"Object","original":{"line":51,"column":14},"generated":{"line":1,"column":912}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"assign","original":{"line":51,"column":21},"generated":{"line":1,"column":919}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":45,"column":27},"generated":{"line":1,"column":926}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":46,"column":14},"generated":{"line":1,"column":927}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":46,"column":14},"generated":{"line":1,"column":934}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":47,"column":15},"generated":{"line":1,"column":945}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":47,"column":15},"generated":{"line":1,"column":953}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":48,"column":16},"generated":{"line":1,"column":964}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":48,"column":16},"generated":{"line":1,"column":973}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":51,"column":44},"generated":{"line":1,"column":980}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":53,"column":16},"generated":{"line":1,"column":984}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"util","original":{"line":54,"column":14},"generated":{"line":1,"column":991}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"util","original":{"line":54,"column":14},"generated":{"line":1,"column":993}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"serialize","original":{"line":54,"column":19},"generated":{"line":1,"column":998}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagNode","original":{"line":54,"column":29},"generated":{"line":1,"column":1008}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"finalize","original":{"line":54,"column":38},"generated":{"line":1,"column":1010}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":55,"column":34},"generated":{"line":1,"column":1013}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"options","original":{"line":55,"column":15},"generated":{"line":1,"column":1024}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"format","original":{"line":55,"column":23},"generated":{"line":1,"column":1026}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"util","original":{"line":56,"column":12},"generated":{"line":1,"column":1033}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"util","original":{"line":56,"column":12},"generated":{"line":1,"column":1035}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"serialize","original":{"line":56,"column":17},"generated":{"line":1,"column":1040}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagNode","original":{"line":56,"column":27},"generated":{"line":1,"column":1050}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"finalize","original":{"line":56,"column":36},"generated":{"line":1,"column":1052}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":59,"column":15},"generated":{"line":1,"column":1055}},{"source":"node_modules/ipfs-api/src/dag/put.js","original":{"line":59,"column":15},"generated":{"line":1,"column":1057}},{"source":"node_modules/ipfs-api/src/dag/put.js","name":"dagNode","original":{"line":59,"column":21},"generated":{"line":1,"column":1062}}],"sources":{"node_modules/ipfs-api/src/dag/put.js":"'use strict'\n\nconst dagPB = require('ipld-dag-pb')\nconst dagCBOR = require('ipld-dag-cbor')\nconst promisify = require('promisify-es6')\nconst CID = require('cids')\nconst multihash = require('multihashes')\nconst SendOneFile = require('../utils/send-one-file')\n\nmodule.exports = (send) => {\n  const sendOneFile = SendOneFile(send, 'dag/put')\n\n  return promisify((dagNode, options, callback) => {\n    if (typeof options === 'function') {\n      callback = options\n    }\n\n    options = options || {}\n\n    if (options.hash) {\n      options.hashAlg = options.hash\n      delete options.hash\n    }\n\n    if (options.cid && (options.format || options.hashAlg)) {\n      return callback(new Error('Can\\'t put dag node. Please provide either `cid` OR `format` and `hash` options.'))\n    } else if ((options.format && !options.hashAlg) || (!options.format && options.hashAlg)) {\n      return callback(new Error('Can\\'t put dag node. Please provide `format` AND `hash` options.'))\n    }\n\n    if (options.cid) {\n      let cid\n\n      try {\n        cid = new CID(options.cid)\n      } catch (err) {\n        return callback(err)\n      }\n\n      options.format = cid.codec\n      options.hashAlg = multihash.decode(cid.multihash).name\n      delete options.cid\n    }\n\n    const optionDefaults = {\n      format: 'dag-cbor',\n      hashAlg: 'sha2-256',\n      inputEnc: 'raw'\n    }\n\n    options = Object.assign(optionDefaults, options)\n\n    if (options.format === 'dag-cbor') {\n      dagCBOR.util.serialize(dagNode, finalize)\n    } else if (options.format === 'dag-pb') {\n      dagPB.util.serialize(dagNode, finalize)\n    } else {\n      // FIXME Hopefully already serialized...can we use IPLD to serialise instead?\n      finalize(null, dagNode)\n    }\n\n    function finalize (err, serialized) {\n      if (err) { return callback(err) }\n      const sendOptions = {\n        qs: {\n          hash: options.hashAlg,\n          format: options.format,\n          'input-enc': options.inputEnc\n        }\n      }\n      sendOneFile(serialized, sendOptions, (err, result) => {\n        if (err) {\n          return callback(err)\n        }\n        if (result['Cid']) {\n          return callback(null, new CID(result['Cid']['/']))\n        } else {\n          return callback(result)\n        }\n      })\n    }\n  })\n}\n"},"lineCount":null}},"hash":"2b9701cc87fcb7dd443740cf399ab7f1","cacheData":{"env":{}}}