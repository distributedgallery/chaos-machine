{"id":"node_modules/request/node_modules/ajv/lib/keyword.js","dependencies":[{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/request/node_modules/ajv/package.json","includedInParent":true,"mtime":1533058562872},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/package.json","includedInParent":true,"mtime":1535727539307},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/.babelrc","includedInParent":true,"mtime":1533206516246},{"name":"./dotjs/custom","loc":{"line":4,"column":29},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/request/node_modules/ajv/lib/keyword.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/request/node_modules/ajv/lib/dotjs/custom.js"}],"generated":{"js":"'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n","map":{"mappings":[{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules/request/node_modules/ajv/lib/keyword.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}}],"sources":{"node_modules/request/node_modules/ajv/lib/keyword.js":"'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n"},"lineCount":136}},"hash":"2ccf65f91a9067f016dbbadf48c336e2","cacheData":{"env":{}}}