{"id":"Nv3G","dependencies":[{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/package.json","includedInParent":true,"mtime":1533205844951},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/package.json","includedInParent":true,"mtime":1535727154596},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/.babelrc","includedInParent":true,"mtime":1533206516246},{"name":"detect-node","loc":{"line":3,"column":23},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/prepare-file.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/detect-node/index.js"},{"name":"flatmap","loc":{"line":4,"column":24},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/prepare-file.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/flatmap/index.js"},{"name":"path","loc":{"line":7,"column":23},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/prepare-file.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/path-browserify/index.js"},{"name":"fs","loc":{"line":8,"column":21},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/prepare-file.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/parcel-bundler/src/builtins/_empty.js"},{"name":"glob","loc":{"line":9,"column":23},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/utils/prepare-file.js","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/parcel-bundler/src/builtins/_empty.js"}],"generated":{"js":"\"use strict\";var e=require(\"detect-node\"),r=require(\"flatmap\");function n(e,r){var n=require(\"path\"),t=require(\"fs\"),i=require(\"glob\"),o=null==e.followSymlinks||e.followSymlinks;r=n.resolve(r);var a=t.statSync(r);if(a.isDirectory()&&!e.recursive)throw new Error(\"Can only add directories using --recursive\");if(a.isDirectory()&&e.recursive){var c=(r=r.split(n.sep).join(\"/\"))+(r.endsWith(\"/\")?\"\":\"/\"),s=c.split(\"/\");s=s[s.length-2]+\"/\";var l=new i.sync.GlobSync(\"**/*\",{cwd:r,follow:o,dot:e.hidden,ignore:e.ignore});return l.found.map(function(e){var r=c+e;return!0===l.symlinks[r]?{path:s+e,symlink:!0,dir:!1,content:t.readlinkSync(r)}:\"FILE\"===l.cache[r]?{path:s+e,symlink:!1,dir:!1,content:t.createReadStream(r)}:\"DIR\"===l.cache[r]||l.cache[r]instanceof Array?{path:s+e,symlink:!1,dir:!0}:void 0}).filter(Boolean)}return{path:n.basename(r),content:t.createReadStream(r)}}function t(t,i){var o=[].concat(t);return r(o,function(r){if(\"string\"==typeof r){if(!e)throw new Error(\"Can only add file paths in node\");return n(i,r)}return r.path&&!r.content?(r.dir=!0,r):r.content||r.dir?r:{path:\"\",symlink:!1,dir:!1,content:r}})}exports=module.exports=t;","map":{"mappings":[{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"isNode","original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":3,"column":23},"generated":{"line":1,"column":27}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"flatmap","original":{"line":4,"column":6},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":4,"column":24},"generated":{"line":1,"column":52}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":6,"column":0},"generated":{"line":1,"column":63}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"loadPaths","original":{"line":6,"column":9},"generated":{"line":1,"column":72}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":6,"column":20},"generated":{"line":1,"column":74}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":6,"column":26},"generated":{"line":1,"column":76}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":7,"column":8},"generated":{"line":1,"column":79}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":7,"column":8},"generated":{"line":1,"column":83}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"require","original":{"line":7,"column":15},"generated":{"line":1,"column":85}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":7,"column":23},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":8,"column":8},"generated":{"line":1,"column":101}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"require","original":{"line":8,"column":13},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":8,"column":21},"generated":{"line":1,"column":111}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"glob","original":{"line":9,"column":8},"generated":{"line":1,"column":117}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"require","original":{"line":9,"column":15},"generated":{"line":1,"column":119}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":9,"column":23},"generated":{"line":1,"column":127}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"followSymlinks","original":{"line":11,"column":8},"generated":{"line":1,"column":135}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":11,"column":48},"generated":{"line":1,"column":137}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":11,"column":25},"generated":{"line":1,"column":143}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"followSymlinks","original":{"line":11,"column":30},"generated":{"line":1,"column":145}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":11,"column":55},"generated":{"line":1,"column":161}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"followSymlinks","original":{"line":11,"column":60},"generated":{"line":1,"column":163}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":13,"column":9},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":13,"column":9},"generated":{"line":1,"column":180}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"resolve","original":{"line":13,"column":14},"generated":{"line":1,"column":182}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":13,"column":22},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":14,"column":8},"generated":{"line":1,"column":193}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":14,"column":8},"generated":{"line":1,"column":197}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":14,"column":16},"generated":{"line":1,"column":199}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"statSync","original":{"line":14,"column":19},"generated":{"line":1,"column":201}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":14,"column":28},"generated":{"line":1,"column":210}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":16,"column":6},"generated":{"line":1,"column":213}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":16,"column":6},"generated":{"line":1,"column":216}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"isDirectory","original":{"line":16,"column":12},"generated":{"line":1,"column":218}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":16,"column":30},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"recursive","original":{"line":16,"column":35},"generated":{"line":1,"column":236}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":17,"column":10},"generated":{"line":1,"column":246}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":17,"column":10},"generated":{"line":1,"column":252}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"Error","original":{"line":17,"column":14},"generated":{"line":1,"column":256}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":17,"column":20},"generated":{"line":1,"column":262}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":20,"column":6},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"stats","original":{"line":20,"column":6},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"isDirectory","original":{"line":20,"column":12},"generated":{"line":1,"column":313}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":20,"column":29},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"recursive","original":{"line":20,"column":34},"generated":{"line":1,"column":330}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":20,"column":45},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fullDir","original":{"line":23,"column":10},"generated":{"line":1,"column":341}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fullDir","original":{"line":23,"column":10},"generated":{"line":1,"column":345}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":22,"column":11},"generated":{"line":1,"column":348}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":22,"column":11},"generated":{"line":1,"column":350}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"split","original":{"line":22,"column":16},"generated":{"line":1,"column":352}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":22,"column":22},"generated":{"line":1,"column":358}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"sep","original":{"line":22,"column":27},"generated":{"line":1,"column":360}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"join","original":{"line":22,"column":32},"generated":{"line":1,"column":365}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":22,"column":37},"generated":{"line":1,"column":370}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":23,"column":28},"generated":{"line":1,"column":377}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"endsWith","original":{"line":23,"column":33},"generated":{"line":1,"column":379}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":23,"column":42},"generated":{"line":1,"column":388}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":23,"column":49},"generated":{"line":1,"column":393}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":23,"column":54},"generated":{"line":1,"column":396}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":24,"column":8},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fullDir","original":{"line":24,"column":18},"generated":{"line":1,"column":403}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"split","original":{"line":24,"column":26},"generated":{"line":1,"column":405}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":24,"column":32},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":25,"column":14},"generated":{"line":1,"column":416}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":25,"column":14},"generated":{"line":1,"column":418}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":25,"column":22},"generated":{"line":1,"column":420}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"length","original":{"line":25,"column":30},"generated":{"line":1,"column":422}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":25,"column":39},"generated":{"line":1,"column":429}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":25,"column":44},"generated":{"line":1,"column":432}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":26,"column":10},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":26,"column":10},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":26,"column":15},"generated":{"line":1,"column":442}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"glob","original":{"line":26,"column":19},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"sync","original":{"line":26,"column":24},"generated":{"line":1,"column":448}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"GlobSync","original":{"line":26,"column":29},"generated":{"line":1,"column":453}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":26,"column":38},"generated":{"line":1,"column":462}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":26,"column":46},"generated":{"line":1,"column":469}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":27,"column":11},"generated":{"line":1,"column":470}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":27,"column":11},"generated":{"line":1,"column":474}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"followSymlinks","original":{"line":28,"column":14},"generated":{"line":1,"column":476}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"followSymlinks","original":{"line":28,"column":14},"generated":{"line":1,"column":483}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":29,"column":11},"generated":{"line":1,"column":485}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":29,"column":11},"generated":{"line":1,"column":489}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"hidden","original":{"line":29,"column":16},"generated":{"line":1,"column":491}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":30,"column":14},"generated":{"line":1,"column":498}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":30,"column":14},"generated":{"line":1,"column":505}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"ignore","original":{"line":30,"column":19},"generated":{"line":1,"column":507}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":33,"column":11},"generated":{"line":1,"column":516}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":33,"column":11},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"found","original":{"line":33,"column":14},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"map","original":{"line":34,"column":7},"generated":{"line":1,"column":531}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":34,"column":11},"generated":{"line":1,"column":535}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"name","original":{"line":34,"column":12},"generated":{"line":1,"column":544}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":35,"column":14},"generated":{"line":1,"column":547}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":35,"column":14},"generated":{"line":1,"column":551}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fullDir","original":{"line":35,"column":20},"generated":{"line":1,"column":553}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"name","original":{"line":35,"column":30},"generated":{"line":1,"column":555}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":37,"column":12},"generated":{"line":1,"column":557}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":37,"column":33},"generated":{"line":1,"column":564}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":37,"column":12},"generated":{"line":1,"column":568}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"symlinks","original":{"line":37,"column":15},"generated":{"line":1,"column":570}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":37,"column":24},"generated":{"line":1,"column":579}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":38,"column":17},"generated":{"line":1,"column":582}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":39,"column":18},"generated":{"line":1,"column":583}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":39,"column":18},"generated":{"line":1,"column":588}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"name","original":{"line":39,"column":28},"generated":{"line":1,"column":590}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":40,"column":21},"generated":{"line":1,"column":592}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":40,"column":21},"generated":{"line":1,"column":601}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":41,"column":17},"generated":{"line":1,"column":603}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":41,"column":17},"generated":{"line":1,"column":608}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":42,"column":21},"generated":{"line":1,"column":610}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":42,"column":21},"generated":{"line":1,"column":618}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"readlinkSync","original":{"line":42,"column":24},"generated":{"line":1,"column":620}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":42,"column":37},"generated":{"line":1,"column":633}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":47,"column":30},"generated":{"line":1,"column":637}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":47,"column":12},"generated":{"line":1,"column":646}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"cache","original":{"line":47,"column":15},"generated":{"line":1,"column":648}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":47,"column":21},"generated":{"line":1,"column":654}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":48,"column":17},"generated":{"line":1,"column":657}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":49,"column":18},"generated":{"line":1,"column":658}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":49,"column":18},"generated":{"line":1,"column":663}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"name","original":{"line":49,"column":28},"generated":{"line":1,"column":665}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":50,"column":21},"generated":{"line":1,"column":667}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":50,"column":21},"generated":{"line":1,"column":676}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":51,"column":17},"generated":{"line":1,"column":678}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":51,"column":17},"generated":{"line":1,"column":683}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":52,"column":21},"generated":{"line":1,"column":685}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":52,"column":21},"generated":{"line":1,"column":693}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"createReadStream","original":{"line":52,"column":24},"generated":{"line":1,"column":695}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":52,"column":41},"generated":{"line":1,"column":712}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":57,"column":30},"generated":{"line":1,"column":716}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":57,"column":12},"generated":{"line":1,"column":724}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"cache","original":{"line":57,"column":15},"generated":{"line":1,"column":726}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":57,"column":21},"generated":{"line":1,"column":732}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":57,"column":39},"generated":{"line":1,"column":736}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"cache","original":{"line":57,"column":42},"generated":{"line":1,"column":738}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fqn","original":{"line":57,"column":48},"generated":{"line":1,"column":744}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"Array","original":{"line":57,"column":64},"generated":{"line":1,"column":757}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":58,"column":17},"generated":{"line":1,"column":763}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":59,"column":18},"generated":{"line":1,"column":764}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dirName","original":{"line":59,"column":18},"generated":{"line":1,"column":769}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"name","original":{"line":59,"column":28},"generated":{"line":1,"column":771}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":60,"column":21},"generated":{"line":1,"column":773}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":60,"column":21},"generated":{"line":1,"column":782}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":61,"column":17},"generated":{"line":1,"column":784}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":61,"column":17},"generated":{"line":1,"column":789}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"mg","original":{"line":57,"column":12},"generated":{"line":1,"column":797}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"filter","original":{"line":67,"column":7},"generated":{"line":1,"column":801}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"Boolean","original":{"line":67,"column":14},"generated":{"line":1,"column":808}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":70,"column":9},"generated":{"line":1,"column":817}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":70,"column":9},"generated":{"line":1,"column":823}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":71,"column":10},"generated":{"line":1,"column":824}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":71,"column":10},"generated":{"line":1,"column":829}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"basename","original":{"line":71,"column":15},"generated":{"line":1,"column":831}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":71,"column":24},"generated":{"line":1,"column":840}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":72,"column":13},"generated":{"line":1,"column":843}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"fs","original":{"line":72,"column":13},"generated":{"line":1,"column":851}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"createReadStream","original":{"line":72,"column":16},"generated":{"line":1,"column":853}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":72,"column":33},"generated":{"line":1,"column":870}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":76,"column":0},"generated":{"line":1,"column":874}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"prepareFile","original":{"line":76,"column":9},"generated":{"line":1,"column":883}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":76,"column":22},"generated":{"line":1,"column":885}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":76,"column":28},"generated":{"line":1,"column":887}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"files","original":{"line":77,"column":6},"generated":{"line":1,"column":890}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"files","original":{"line":77,"column":6},"generated":{"line":1,"column":894}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":77,"column":14},"generated":{"line":1,"column":896}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"concat","original":{"line":77,"column":17},"generated":{"line":1,"column":899}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":77,"column":24},"generated":{"line":1,"column":906}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"flatmap","original":{"line":79,"column":9},"generated":{"line":1,"column":909}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"flatmap","original":{"line":79,"column":9},"generated":{"line":1,"column":916}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"files","original":{"line":79,"column":17},"generated":{"line":1,"column":918}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":79,"column":24},"generated":{"line":1,"column":920}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":79,"column":25},"generated":{"line":1,"column":929}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":80,"column":8},"generated":{"line":1,"column":932}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":80,"column":24},"generated":{"line":1,"column":935}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":80,"column":15},"generated":{"line":1,"column":952}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":80,"column":34},"generated":{"line":1,"column":954}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":81,"column":10},"generated":{"line":1,"column":955}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"isNode","original":{"line":81,"column":11},"generated":{"line":1,"column":959}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":82,"column":14},"generated":{"line":1,"column":961}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":82,"column":14},"generated":{"line":1,"column":967}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"Error","original":{"line":82,"column":18},"generated":{"line":1,"column":971}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":82,"column":24},"generated":{"line":1,"column":977}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"loadPaths","original":{"line":85,"column":13},"generated":{"line":1,"column":1012}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"loadPaths","original":{"line":85,"column":13},"generated":{"line":1,"column":1019}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"opts","original":{"line":85,"column":23},"generated":{"line":1,"column":1021}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":85,"column":29},"generated":{"line":1,"column":1023}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":88,"column":8},"generated":{"line":1,"column":1026}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":88,"column":8},"generated":{"line":1,"column":1033}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"path","original":{"line":88,"column":13},"generated":{"line":1,"column":1035}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":88,"column":22},"generated":{"line":1,"column":1042}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"content","original":{"line":88,"column":27},"generated":{"line":1,"column":1044}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dir","original":{"line":89,"column":11},"generated":{"line":1,"column":1053}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dir","original":{"line":89,"column":11},"generated":{"line":1,"column":1055}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":89,"column":17},"generated":{"line":1,"column":1060}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":90,"column":13},"generated":{"line":1,"column":1062}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":93,"column":8},"generated":{"line":1,"column":1065}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"content","original":{"line":93,"column":13},"generated":{"line":1,"column":1067}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":93,"column":24},"generated":{"line":1,"column":1076}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"dir","original":{"line":93,"column":29},"generated":{"line":1,"column":1078}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":94,"column":13},"generated":{"line":1,"column":1082}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":97,"column":11},"generated":{"line":1,"column":1084}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":98,"column":12},"generated":{"line":1,"column":1085}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":98,"column":12},"generated":{"line":1,"column":1090}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":99,"column":15},"generated":{"line":1,"column":1093}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":99,"column":15},"generated":{"line":1,"column":1102}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":100,"column":11},"generated":{"line":1,"column":1104}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","original":{"line":100,"column":11},"generated":{"line":1,"column":1109}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":101,"column":15},"generated":{"line":1,"column":1111}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"file","original":{"line":101,"column":15},"generated":{"line":1,"column":1119}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"exports","original":{"line":106,"column":0},"generated":{"line":1,"column":1124}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"module","original":{"line":106,"column":10},"generated":{"line":1,"column":1132}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"exports","original":{"line":106,"column":17},"generated":{"line":1,"column":1139}},{"source":"node_modules/ipfs-api/src/utils/prepare-file.js","name":"prepareFile","original":{"line":106,"column":27},"generated":{"line":1,"column":1147}}],"sources":{"node_modules/ipfs-api/src/utils/prepare-file.js":"'use strict'\n\nconst isNode = require('detect-node')\nconst flatmap = require('flatmap')\n\nfunction loadPaths (opts, file) {\n  const path = require('path')\n  const fs = require('fs')\n  const glob = require('glob')\n\n  const followSymlinks = opts.followSymlinks != null ? opts.followSymlinks : true\n\n  file = path.resolve(file)\n  const stats = fs.statSync(file)\n\n  if (stats.isDirectory() && !opts.recursive) {\n    throw new Error('Can only add directories using --recursive')\n  }\n\n  if (stats.isDirectory() && opts.recursive) {\n    // glob requires a POSIX filename\n    file = file.split(path.sep).join('/')\n    const fullDir = file + (file.endsWith('/') ? '' : '/')\n    let dirName = fullDir.split('/')\n    dirName = dirName[dirName.length - 2] + '/'\n    const mg = new glob.sync.GlobSync('**/*', {\n      cwd: file,\n      follow: followSymlinks,\n      dot: opts.hidden,\n      ignore: opts.ignore\n    })\n\n    return mg.found\n      .map((name) => {\n        const fqn = fullDir + name\n        // symlinks\n        if (mg.symlinks[fqn] === true) {\n          return {\n            path: dirName + name,\n            symlink: true,\n            dir: false,\n            content: fs.readlinkSync(fqn)\n          }\n        }\n\n        // files\n        if (mg.cache[fqn] === 'FILE') {\n          return {\n            path: dirName + name,\n            symlink: false,\n            dir: false,\n            content: fs.createReadStream(fqn)\n          }\n        }\n\n        // directories\n        if (mg.cache[fqn] === 'DIR' || mg.cache[fqn] instanceof Array) {\n          return {\n            path: dirName + name,\n            symlink: false,\n            dir: true\n          }\n        }\n        // files inside symlinks and others\n      })\n      // filter out null files\n      .filter(Boolean)\n  }\n\n  return {\n    path: path.basename(file),\n    content: fs.createReadStream(file)\n  }\n}\n\nfunction prepareFile (file, opts) {\n  let files = [].concat(file)\n\n  return flatmap(files, (file) => {\n    if (typeof file === 'string') {\n      if (!isNode) {\n        throw new Error('Can only add file paths in node')\n      }\n\n      return loadPaths(opts, file)\n    }\n\n    if (file.path && !file.content) {\n      file.dir = true\n      return file\n    }\n\n    if (file.content || file.dir) {\n      return file\n    }\n\n    return {\n      path: '',\n      symlink: false,\n      dir: false,\n      content: file\n    }\n  })\n}\n\nexports = module.exports = prepareFile\n"},"lineCount":null}},"hash":"392bbd52a10a410fbf067cd9a688dbc7","cacheData":{"env":{}}}