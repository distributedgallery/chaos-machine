{"id":"gjEb","dependencies":[{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/package.json","includedInParent":true,"mtime":1535727154596},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/.babelrc","includedInParent":true,"mtime":1533206516246},{"name":"babel-runtime/regenerator","parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/babel-runtime/regenerator/index.js"},{"name":"babel-runtime/helpers/asyncToGenerator","parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/babel-runtime/helpers/asyncToGenerator.js"},{"name":"is-mp3","loc":{"line":37,"column":18},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/is-mp3/index.js"},{"name":"ipfs-api","loc":{"line":38,"column":17},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/ipfs-api/src/index.js"},{"name":"./ui/title","loc":{"line":39,"column":18},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/ui/title.vue"},{"name":"./ui/dropbox","loc":{"line":40,"column":20},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/ui/dropbox.vue"},{"name":"./ui/button","loc":{"line":41,"column":19},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/ui/button.vue"},{"name":"./ui/frame","loc":{"line":42,"column":18},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/ui/frame.vue"},{"name":"buffer","parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/src/components/Upload.vue","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/dashboard/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"babel-runtime/regenerator\"),t=b(r),a=require(\"babel-runtime/helpers/asyncToGenerator\"),i=b(a),u=require(\"is-mp3\"),o=b(u),n=require(\"ipfs-api\"),l=b(n),d=require(\"./ui/title\"),c=b(d),s=require(\"./ui/dropbox\"),f=b(s),p=require(\"./ui/button\"),v=b(p),h=require(\"./ui/frame\"),k=b(h);function b(e){return e&&e.__esModule?e:{default:e}}exports.default={name:\"upload\",components:{\"ui-title\":c.default,\"ui-dropbox\":f.default,\"ui-button\":v.default,\"ui-frame\":k.default},data:function(){return{track:{valid:!1,buffer:void 0,name:void 0}}},computed:{placeholder:function(){return this.track.valid?\"register '\"+this.track.name+\"' or select a new track\":\"drag your track here or click to browse\"}},methods:{fileUpdated:function(r){var t=this,a=new FileReader;a.onload=function(i){var u=e(a.result);(0,o.default)(u)?(t.track.valid=!0,t.track.buffer=u,t.track.name=r[0].name,t.$notify({group:\"all\",type:\"success\",title:\"Valid file\",text:\"You can now register your track on the blockchain.\"})):(t.track.valid=!1,t.track.buffer=void 0,t.track.name=void 0,t.$notify({group:\"all\",type:\"error\",title:\"Wrong file format\",text:\"The ChaosMachine only handles .mp3 files. Please pick a mp3 encoded track.\",duration:1e4}))},a.readAsArrayBuffer(r[0])},upload:function(){var e=(0,i.default)(t.default.mark(function e(){var r,a;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.track.valid){e.next=8;break}return r=(0,l.default)({host:\"ipfs.infura.io\",port:\"5001\",protocol:\"https\"}),this.$notify({group:\"all\",title:\"Uploading track\",text:'Your track is being uploaded to IPFS.<br><div class=\"spinner\"><div class=\"rect1\"></div><div class=\"rect2\"></div><div class=\"rect3\"></div><div class=\"rect4\"></div><div class=\"rect5\"></div></div>',duration:-1}),e.next=5,r.files.add(this.track.buffer);case 5:a=e.sent,this.$notify({group:\"all\",clean:!0}),this.$notify({group:\"all\",type:\"success\",title:\"Track uploaded\",text:\"Hash: \"+a[0].hash,duration:1e4});case 8:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}};\n(function(){var e=exports.default||module.exports;\"function\"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"flex fullscreen\",attrs:{id:\"upload-track\"}},[a(\"ui-title\",[e._v(\"Register a track\")]),e._v(\" \"),e.$store.state.web3?\"1\"!==e.$store.state.network?a(\"div\",{staticClass:\"content\"},[a(\"ui-frame\",[e._v(\" Your wallet is connected to the wrong network.\"),a(\"br\"),e._v(\" Please select 'Ethereum Main Net' in Metamask. \")])],1):e.$route.params.token?a(\"div\",{staticClass:\"content\"},[a(\"ui-frame\",[e._v(\"access token: \"+e._s(e.$route.params.token))]),e._v(\" \"),a(\"ui-dropbox\",{on:{change:e.fileUpdated}},[e._v(e._s(e.placeholder))]),e._v(\" \"),a(\"ui-button\",{class:e.track.valid?\"\":\"disabled\",on:{click:e.upload}},[e._v(\"Register track\")])],1):a(\"div\",{staticClass:\"content\"},[a(\"ui-frame\",[e._v(\" You need an access token to upload a track.\"),a(\"br\"),e._v(\" Please scan a ChaosMachine printed QRCode \"),a(\"router-link\",{attrs:{to:\"authenticate\"}},[e._v(\"here\")]),e._v(\" to authenticate. \")],1)],1):a(\"div\",{staticClass:\"content\"},[a(\"ui-frame\",[e._v(\" Your browser does not come with an ethereum wallet.\"),a(\"br\"),e._v(\" Install \"),a(\"a\",{attrs:{href:\"#\",target:\"_blank\"}},[e._v(\"Metamask\")]),e._v(\", fill it with \"),a(\"a\",{attrs:{href:\"#\",target:\"_blank\"}},[e._v(\"a few ETHs\")]),e._v(\" and come back once you're done. \")])],1)],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();","map":{"mappings":[{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":0}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":4}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":6}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":14}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":24}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":31}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":38}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":53}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":61}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":74}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":75}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":82}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":86}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":90}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":92}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":100}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":129}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":131}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":133}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":136}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":138}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":146}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":188}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":190}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":192}},{"source":"src/components/Upload.vue","name":null,"original":{"line":37,"column":0},"generated":{"line":2,"column":195}},{"source":"src/components/Upload.vue","name":null,"original":{"line":37,"column":0},"generated":{"line":2,"column":197}},{"source":"src/components/Upload.vue","name":null,"original":{"line":37,"column":0},"generated":{"line":2,"column":205}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":215}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":217}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":219}},{"source":"src/components/Upload.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":222}},{"source":"src/components/Upload.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":224}},{"source":"src/components/Upload.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":2,"column":232}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":244}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":246}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":248}},{"source":"src/components/Upload.vue","name":null,"original":{"line":39,"column":0},"generated":{"line":2,"column":251}},{"source":"src/components/Upload.vue","name":null,"original":{"line":39,"column":0},"generated":{"line":2,"column":253}},{"source":"src/components/Upload.vue","name":null,"original":{"line":39,"column":0},"generated":{"line":2,"column":261}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":275}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":277}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":279}},{"source":"src/components/Upload.vue","name":null,"original":{"line":40,"column":0},"generated":{"line":2,"column":282}},{"source":"src/components/Upload.vue","name":null,"original":{"line":40,"column":0},"generated":{"line":2,"column":284}},{"source":"src/components/Upload.vue","name":null,"original":{"line":40,"column":0},"generated":{"line":2,"column":292}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":308}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":310}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":312}},{"source":"src/components/Upload.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":2,"column":315}},{"source":"src/components/Upload.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":2,"column":317}},{"source":"src/components/Upload.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":2,"column":325}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":340}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":342}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":344}},{"source":"src/components/Upload.vue","name":null,"original":{"line":42,"column":0},"generated":{"line":2,"column":347}},{"source":"src/components/Upload.vue","name":null,"original":{"line":42,"column":0},"generated":{"line":2,"column":349}},{"source":"src/components/Upload.vue","name":null,"original":{"line":42,"column":0},"generated":{"line":2,"column":357}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":371}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":373}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":375}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":378}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":387}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":389}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":392}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":399}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":402}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":404}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":415}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":417}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":418}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":426}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":429}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":437}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":445}},{"source":"src/components/Upload.vue","name":null,"original":{"line":46,"column":0},"generated":{"line":2,"column":446}},{"source":"src/components/Upload.vue","name":null,"original":{"line":46,"column":0},"generated":{"line":2,"column":451}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":460}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":471}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":472}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":483}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":485}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":493}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":506}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":508}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":516}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":528}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":530}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":538}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":549}},{"source":"src/components/Upload.vue","name":null,"original":{"line":47,"column":0},"generated":{"line":2,"column":551}},{"source":"src/components/Upload.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":2,"column":560}},{"source":"src/components/Upload.vue","name":null,"original":{"line":48,"column":0},"generated":{"line":2,"column":565}},{"source":"src/components/Upload.vue","name":null,"original":{"line":49,"column":0},"generated":{"line":2,"column":576}},{"source":"src/components/Upload.vue","name":null,"original":{"line":49,"column":0},"generated":{"line":2,"column":582}},{"source":"src/components/Upload.vue","name":null,"original":{"line":50,"column":0},"generated":{"line":2,"column":583}},{"source":"src/components/Upload.vue","name":null,"original":{"line":50,"column":0},"generated":{"line":2,"column":589}},{"source":"src/components/Upload.vue","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":590}},{"source":"src/components/Upload.vue","name":null,"original":{"line":51,"column":0},"generated":{"line":2,"column":597}},{"source":"src/components/Upload.vue","name":null,"original":{"line":52,"column":0},"generated":{"line":2,"column":599}},{"source":"src/components/Upload.vue","name":null,"original":{"line":52,"column":0},"generated":{"line":2,"column":611}},{"source":"src/components/Upload.vue","name":null,"original":{"line":53,"column":0},"generated":{"line":2,"column":613}},{"source":"src/components/Upload.vue","name":null,"original":{"line":53,"column":0},"generated":{"line":2,"column":623}},{"source":"src/components/Upload.vue","name":null,"original":{"line":57,"column":0},"generated":{"line":2,"column":628}},{"source":"src/components/Upload.vue","name":null,"original":{"line":57,"column":0},"generated":{"line":2,"column":637}},{"source":"src/components/Upload.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":2,"column":638}},{"source":"src/components/Upload.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":2,"column":650}},{"source":"src/components/Upload.vue","name":null,"original":{"line":59,"column":0},"generated":{"line":2,"column":661}},{"source":"src/components/Upload.vue","name":null,"original":{"line":59,"column":0},"generated":{"line":2,"column":668}},{"source":"src/components/Upload.vue","name":null,"original":{"line":59,"column":0},"generated":{"line":2,"column":673}},{"source":"src/components/Upload.vue","name":null,"original":{"line":59,"column":0},"generated":{"line":2,"column":679}},{"source":"src/components/Upload.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":2,"column":685}},{"source":"src/components/Upload.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":2,"column":698}},{"source":"src/components/Upload.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":2,"column":703}},{"source":"src/components/Upload.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":2,"column":709}},{"source":"src/components/Upload.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":2,"column":714}},{"source":"src/components/Upload.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":2,"column":740}},{"source":"src/components/Upload.vue","name":null,"original":{"line":66,"column":0},"generated":{"line":2,"column":784}},{"source":"src/components/Upload.vue","name":null,"original":{"line":66,"column":0},"generated":{"line":2,"column":792}},{"source":"src/components/Upload.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":2,"column":793}},{"source":"src/components/Upload.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":2,"column":805}},{"source":"src/components/Upload.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":2,"column":814}},{"source":"src/components/Upload.vue","name":null,"original":{"line":68,"column":0},"generated":{"line":2,"column":817}},{"source":"src/components/Upload.vue","name":null,"original":{"line":68,"column":0},"generated":{"line":2,"column":821}},{"source":"src/components/Upload.vue","name":null,"original":{"line":68,"column":0},"generated":{"line":2,"column":823}},{"source":"src/components/Upload.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":2,"column":828}},{"source":"src/components/Upload.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":2,"column":830}},{"source":"src/components/Upload.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":2,"column":834}},{"source":"src/components/Upload.vue","name":null,"original":{"line":71,"column":0},"generated":{"line":2,"column":845}},{"source":"src/components/Upload.vue","name":null,"original":{"line":71,"column":0},"generated":{"line":2,"column":847}},{"source":"src/components/Upload.vue","name":null,"original":{"line":71,"column":0},"generated":{"line":2,"column":854}},{"source":"src/components/Upload.vue","name":null,"original":{"line":71,"column":0},"generated":{"line":2,"column":863}},{"source":"src/components/Upload.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":2,"column":866}},{"source":"src/components/Upload.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":2,"column":870}},{"source":"src/components/Upload.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":2,"column":872}},{"source":"src/components/Upload.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":2,"column":874}},{"source":"src/components/Upload.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":2,"column":876}},{"source":"src/components/Upload.vue","name":null,"original":{"line":73,"column":0},"generated":{"line":2,"column":885}},{"source":"src/components/Upload.vue","name":null,"original":{"line":73,"column":0},"generated":{"line":2,"column":887}},{"source":"src/components/Upload.vue","name":null,"original":{"line":73,"column":0},"generated":{"line":2,"column":889}},{"source":"src/components/Upload.vue","name":null,"original":{"line":73,"column":0},"generated":{"line":2,"column":898}},{"source":"src/components/Upload.vue","name":null,"original":{"line":85,"column":0},"generated":{"line":2,"column":902}},{"source":"src/components/Upload.vue","name":null,"original":{"line":85,"column":0},"generated":{"line":2,"column":904}},{"source":"src/components/Upload.vue","name":null,"original":{"line":85,"column":0},"generated":{"line":2,"column":910}},{"source":"src/components/Upload.vue","name":null,"original":{"line":85,"column":0},"generated":{"line":2,"column":917}},{"source":"src/components/Upload.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":2,"column":919}},{"source":"src/components/Upload.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":2,"column":921}},{"source":"src/components/Upload.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":2,"column":927}},{"source":"src/components/Upload.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":2,"column":934}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":936}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":938}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":944}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":949}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":951}},{"source":"src/components/Upload.vue","name":null,"original":{"line":87,"column":0},"generated":{"line":2,"column":954}},{"source":"src/components/Upload.vue","name":null,"original":{"line":88,"column":0},"generated":{"line":2,"column":959}},{"source":"src/components/Upload.vue","name":null,"original":{"line":88,"column":0},"generated":{"line":2,"column":961}},{"source":"src/components/Upload.vue","name":null,"original":{"line":88,"column":0},"generated":{"line":2,"column":969}},{"source":"src/components/Upload.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":2,"column":970}},{"source":"src/components/Upload.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":2,"column":976}},{"source":"src/components/Upload.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":2,"column":982}},{"source":"src/components/Upload.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":2,"column":987}},{"source":"src/components/Upload.vue","name":null,"original":{"line":91,"column":0},"generated":{"line":2,"column":997}},{"source":"src/components/Upload.vue","name":null,"original":{"line":91,"column":0},"generated":{"line":2,"column":1003}},{"source":"src/components/Upload.vue","name":null,"original":{"line":92,"column":0},"generated":{"line":2,"column":1016}},{"source":"src/components/Upload.vue","name":null,"original":{"line":92,"column":0},"generated":{"line":2,"column":1021}},{"source":"src/components/Upload.vue","name":null,"original":{"line":74,"column":0},"generated":{"line":2,"column":1078}},{"source":"src/components/Upload.vue","name":null,"original":{"line":74,"column":0},"generated":{"line":2,"column":1080}},{"source":"src/components/Upload.vue","name":null,"original":{"line":74,"column":0},"generated":{"line":2,"column":1086}},{"source":"src/components/Upload.vue","name":null,"original":{"line":74,"column":0},"generated":{"line":2,"column":1093}},{"source":"src/components/Upload.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":2,"column":1095}},{"source":"src/components/Upload.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":2,"column":1097}},{"source":"src/components/Upload.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":2,"column":1103}},{"source":"src/components/Upload.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":2,"column":1115}},{"source":"src/components/Upload.vue","name":null,"original":{"line":76,"column":0},"generated":{"line":2,"column":1117}},{"source":"src/components/Upload.vue","name":null,"original":{"line":76,"column":0},"generated":{"line":2,"column":1119}},{"source":"src/components/Upload.vue","name":null,"original":{"line":76,"column":0},"generated":{"line":2,"column":1125}},{"source":"src/components/Upload.vue","name":null,"original":{"line":76,"column":0},"generated":{"line":2,"column":1135}},{"source":"src/components/Upload.vue","name":null,"original":{"line":77,"column":0},"generated":{"line":2,"column":1137}},{"source":"src/components/Upload.vue","name":null,"original":{"line":77,"column":0},"generated":{"line":2,"column":1139}},{"source":"src/components/Upload.vue","name":null,"original":{"line":77,"column":0},"generated":{"line":2,"column":1147}},{"source":"src/components/Upload.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":2,"column":1148}},{"source":"src/components/Upload.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":2,"column":1154}},{"source":"src/components/Upload.vue","name":null,"original":{"line":79,"column":0},"generated":{"line":2,"column":1160}},{"source":"src/components/Upload.vue","name":null,"original":{"line":79,"column":0},"generated":{"line":2,"column":1165}},{"source":"src/components/Upload.vue","name":null,"original":{"line":80,"column":0},"generated":{"line":2,"column":1173}},{"source":"src/components/Upload.vue","name":null,"original":{"line":80,"column":0},"generated":{"line":2,"column":1179}},{"source":"src/components/Upload.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":2,"column":1199}},{"source":"src/components/Upload.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":2,"column":1204}},{"source":"src/components/Upload.vue","name":null,"original":{"line":82,"column":0},"generated":{"line":2,"column":1281}},{"source":"src/components/Upload.vue","name":null,"original":{"line":82,"column":0},"generated":{"line":2,"column":1290}},{"source":"src/components/Upload.vue","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":1298}},{"source":"src/components/Upload.vue","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":1300}},{"source":"src/components/Upload.vue","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":1318}},{"source":"src/components/Upload.vue","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":1320}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1325}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1332}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1343}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1347}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1350}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1352}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1354}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1363}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1365}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1373}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1378}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1387}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1391}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1395}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1397}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1399}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1406}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1408}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1416}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1421}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1430}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1433}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1440}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1447}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1449}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1454}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1456}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1462}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1467}},{"source":"src/components/Upload.vue","name":null,"original":{"line":99,"column":0},"generated":{"line":2,"column":1469}},{"source":"src/components/Upload.vue","name":null,"original":{"line":99,"column":0},"generated":{"line":2,"column":1473}},{"source":"src/components/Upload.vue","name":null,"original":{"line":99,"column":0},"generated":{"line":2,"column":1478}},{"source":"src/components/Upload.vue","name":null,"original":{"line":99,"column":0},"generated":{"line":2,"column":1484}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1490}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1491}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1493}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1498}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1500}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1506}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1513}},{"source":"src/components/Upload.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":2,"column":1516}},{"source":"src/components/Upload.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":2,"column":1518}},{"source":"src/components/Upload.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":2,"column":1520}},{"source":"src/components/Upload.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":2,"column":1529}},{"source":"src/components/Upload.vue","name":null,"original":{"line":101,"column":0},"generated":{"line":2,"column":1530}},{"source":"src/components/Upload.vue","name":null,"original":{"line":101,"column":0},"generated":{"line":2,"column":1535}},{"source":"src/components/Upload.vue","name":null,"original":{"line":102,"column":0},"generated":{"line":2,"column":1552}},{"source":"src/components/Upload.vue","name":null,"original":{"line":102,"column":0},"generated":{"line":2,"column":1557}},{"source":"src/components/Upload.vue","name":null,"original":{"line":103,"column":0},"generated":{"line":2,"column":1564}},{"source":"src/components/Upload.vue","name":null,"original":{"line":103,"column":0},"generated":{"line":2,"column":1573}},{"source":"src/components/Upload.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":2,"column":1583}},{"source":"src/components/Upload.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":2,"column":1588}},{"source":"src/components/Upload.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":2,"column":1596}},{"source":"src/components/Upload.vue","name":null,"original":{"line":107,"column":0},"generated":{"line":2,"column":1597}},{"source":"src/components/Upload.vue","name":null,"original":{"line":107,"column":0},"generated":{"line":2,"column":1603}},{"source":"src/components/Upload.vue","name":null,"original":{"line":108,"column":0},"generated":{"line":2,"column":1609}},{"source":"src/components/Upload.vue","name":null,"original":{"line":108,"column":0},"generated":{"line":2,"column":1615}},{"source":"src/components/Upload.vue","name":null,"original":{"line":109,"column":0},"generated":{"line":2,"column":1633}},{"source":"src/components/Upload.vue","name":null,"original":{"line":109,"column":0},"generated":{"line":2,"column":1638}},{"source":"src/components/Upload.vue","name":null,"original":{"line":110,"column":0},"generated":{"line":2,"column":1834}},{"source":"src/components/Upload.vue","name":null,"original":{"line":110,"column":0},"generated":{"line":2,"column":1844}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1848}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1850}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1855}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1857}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1859}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1865}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1869}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1874}},{"source":"src/components/Upload.vue","name":null,"original":{"line":113,"column":0},"generated":{"line":2,"column":1880}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1888}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1893}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1895}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1897}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":1899}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1904}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1909}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1917}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1918}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1924}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1930}},{"source":"src/components/Upload.vue","name":null,"original":{"line":115,"column":0},"generated":{"line":2,"column":1937}},{"source":"src/components/Upload.vue","name":null,"original":{"line":117,"column":0},"generated":{"line":2,"column":1941}},{"source":"src/components/Upload.vue","name":null,"original":{"line":117,"column":0},"generated":{"line":2,"column":1946}},{"source":"src/components/Upload.vue","name":null,"original":{"line":117,"column":0},"generated":{"line":2,"column":1954}},{"source":"src/components/Upload.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":2,"column":1955}},{"source":"src/components/Upload.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":2,"column":1961}},{"source":"src/components/Upload.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":2,"column":1967}},{"source":"src/components/Upload.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":2,"column":1972}},{"source":"src/components/Upload.vue","name":null,"original":{"line":120,"column":0},"generated":{"line":2,"column":1982}},{"source":"src/components/Upload.vue","name":null,"original":{"line":120,"column":0},"generated":{"line":2,"column":1988}},{"source":"src/components/Upload.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":2,"column":2005}},{"source":"src/components/Upload.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":2,"column":2010}},{"source":"src/components/Upload.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":2,"column":2019}},{"source":"src/components/Upload.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":2,"column":2021}},{"source":"src/components/Upload.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":2,"column":2024}},{"source":"src/components/Upload.vue","name":null,"original":{"line":122,"column":0},"generated":{"line":2,"column":2029}},{"source":"src/components/Upload.vue","name":null,"original":{"line":122,"column":0},"generated":{"line":2,"column":2038}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2044}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2049}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2051}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2055}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2061}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2068}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2070}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2079}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2081}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2090}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2097}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2108}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2115}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2117}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2123}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2128}},{"source":"src/components/Upload.vue","name":null,"original":{"line":98,"column":0},"generated":{"line":2,"column":2140}}],"sources":{"src/components/Upload.vue":"<template>\n    <div id=\"upload-track\" class=\"flex fullscreen\">\n        <ui-title>Register a track</ui-title>\n\n        <div v-if=\"!$store.state.web3\" class=\"content\">\n            <ui-frame>\n                Your browser does not come with an ethereum wallet.<br>\n                Install <a href=\"#\" target=\"_blank\">Metamask</a>, fill it with\n                <a href=\"#\" target=\"_blank\">a few ETHs</a>\n                and come back once you're done.\n            </ui-frame>\n        </div>\n\n        <div v-else-if=\"$store.state.network !== '1'\" class=\"content\">\n            <ui-frame>\n                Your wallet is connected to the wrong network.<br>\n                Please select 'Ethereum Main Net' in Metamask.\n            </ui-frame>\n        </div>\n\n        <div v-else-if=\"!$route.params.token\" class=\"content\">\n            <ui-frame>\n                You need an access token to upload a track.<br>\n                Please scan a ChaosMachine printed QRCode <router-link to=\"authenticate\">here</router-link> to authenticate.\n            </ui-frame>\n        </div>\n\n        <div v-else class=\"content\">\n            <ui-frame>access token: {{ $route.params.token }}</ui-frame>\n            <ui-dropbox v-on:change=\"fileUpdated\">{{ placeholder }}</ui-dropbox>\n            <ui-button :class=\"track.valid ? '': 'disabled'\" v-on:click=\"upload\">Register track</ui-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport isMp3 from 'is-mp3'\nimport IPFS from 'ipfs-api'\nimport title from './ui/title'\nimport dropbox from './ui/dropbox'\nimport button from './ui/button'\nimport frame from './ui/frame'\n\n\nexport default {\n  name: 'upload',\n  components: { 'ui-title': title, 'ui-dropbox': dropbox, 'ui-button': button, 'ui-frame': frame },\n  data() {\n    return {\n      track: {\n        valid: false,\n        buffer: undefined,\n        name: undefined\n      }\n    }\n  },\n  computed: {\n    placeholder: function() {\n      if (this.track.valid) {\n        return \"register '\" + this.track.name + \"' or select a new track\"\n      } else {\n        return 'drag your track here or click to browse'\n      }\n    }\n  },\n  methods: {\n    fileUpdated: function(files) {\n      const self    = this\n      const reader  = new FileReader()\n\n      reader.onload = function(e) {\n        const buffer = Buffer(reader.result)\n        if (!isMp3(buffer)) {\n          self.track.valid  = false\n          self.track.buffer = undefined\n          self.track.name   = undefined\n          self.$notify({\n            group:    'all',\n            type:     'error',\n            title:    'Wrong file format',\n            text:     'The ChaosMachine only handles .mp3 files. Please pick a mp3 encoded track.',\n            duration: 10000\n          })\n        } else {\n          self.track.valid = true\n          self.track.buffer = buffer\n          self.track.name = files[0].name\n          self.$notify({\n            group: 'all',\n            type:  'success',\n            title: 'Valid file',\n            text:  'You can now register your track on the blockchain.'\n          })\n        }\n      }\n      reader.readAsArrayBuffer(files[0])\n    },\n    upload: async function() {\n      if (this.track.valid) {\n        const ipfs = IPFS({\n          host:     'ipfs.infura.io',\n          port:     '5001',\n          protocol: 'https'\n        })\n\n        this.$notify({\n          group:    'all',\n          title:    'Uploading track',\n          text:     'Your track is being uploaded to IPFS.<br><div class=\"spinner\"><div class=\"rect1\"></div><div class=\"rect2\"></div><div class=\"rect3\"></div><div class=\"rect4\"></div><div class=\"rect5\"></div></div>',\n          duration: -1\n        })\n\n        const results = await ipfs.files.add(this.track.buffer)\n\n        this.$notify({ group: 'all', clean: true })\n\n        this.$notify({\n          group:    'all',\n          type:     'success',\n          title:    'Track uploaded',\n          text:     'Hash: ' + results[0].hash,\n          duration: 10000\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.spinner {\n  margin: 0;\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  font-size: 10px;\n}\n\n.spinner > div {\n  background-color: #ebece6;\n  margin-right: 2px;\n  height: 100%;\n  width: 4px;\n  display: inline-block;\n\n  -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n  animation: sk-stretchdelay 1.2s infinite ease-in-out;\n}\n\n.spinner .rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n\n.spinner .rect3 {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n\n.spinner .rect4 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.spinner .rect5 {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n@-webkit-keyframes sk-stretchdelay {\n  0%,\n  40%,\n  100% {\n    -webkit-transform: scaleY(0.4);\n  }\n  20% {\n    -webkit-transform: scaleY(1);\n  }\n}\n\n@keyframes sk-stretchdelay {\n  0%,\n  40%,\n  100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1);\n    -webkit-transform: scaleY(1);\n  }\n}\n\nform {\n  width: 30%;\n}\n\n\n</style>\n"},"lineCount":null},"css":".spinner{font-size:10px;height:30px;margin:0;text-align:center;width:30px}.spinner>div{-webkit-animation:sk-stretchdelay 1.2s infinite ease-in-out;animation:sk-stretchdelay 1.2s infinite ease-in-out;background-color:#ebece6;display:inline-block;height:100%;margin-right:2px;width:4px}.spinner .rect2{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner .rect3{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner .rect4{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner .rect5{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes sk-stretchdelay{0%,40%,to{-webkit-transform:scaleY(.4)}20%{-webkit-transform:scaleY(1)}}@keyframes sk-stretchdelay{0%,40%,to{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}form{width:30%}"},"hash":"3d77d7124959bf7d417e2a1423b68108","cacheData":{"env":{}}}