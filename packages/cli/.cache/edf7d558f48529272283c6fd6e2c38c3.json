{"id":"jTSK","dependencies":[{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/cli/tsconfig.json","includedInParent":true,"mtime":1534341445658},{"name":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/cli/package.json","includedInParent":true,"mtime":1535046581218},{"name":"../../lib/config","loc":{"line":16,"column":36},"parent":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/cli/src/commands/daemon/index.ts","resolved":"/Users/osarrouy/Documents/devs/dapps/@distributedgallery/@chaosmachine/packages/cli/src/lib/config.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o};Object.defineProperty(exports,\"__esModule\",{value:!0});const r=require(\"@chaosmachine/chaos.js\"),t=e(require(\"asciiart-logo\")),n=e(require(\"yargs\")),a=o(require(\"../../lib/config\")),i=()=>n.default.help().version(!1),s=async e=>{try{if(a.exists()){const e=a.load();console.log(t.default({font:\"3D-ASCII\",lineChars:15,margin:2,name:\"CHAOS\",padding:5}).emptyLine().left(\"ipfs: \"+e.ipfs).left(\"ethereum: \"+e.ethereum).left(\"contract: \"+e.contract).left(\"devices: \"+e.devices).emptyLine().wrap(\"Have fun burning bills!\").render());const o=new r.Machine(e);await o.start()}else console.log(\"You need to configure your chaos machine before you the daemon.\"),console.log(\"Run: chaos config\")}catch(e){console.log(\"[error] \"+e.message)}};exports.daemon={command:\"daemon\",desc:\"Launch the Chaos Machine daemon\",builder:i,handler:s};","map":{"mappings":[{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":0}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":13}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":17}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":19}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":25}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":30}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":47}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":56}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":59}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":66}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":69}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":71}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":82}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":84}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":85}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":93}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":97}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":99}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":105}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":110}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":124}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":133}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":136}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":139}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":142}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":144}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":155}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":162}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":164}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":168}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":170}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":173}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":176}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":182}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":184}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":188}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":192}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":197}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":199}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":206}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":221}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":226}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":228}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":233}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":235}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":238}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":240}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":244}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":251}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":253}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":261}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":263}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":266}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":273}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":288}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":296}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":309}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":310}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":317}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":321}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":327}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":329}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":337}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":363}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":365}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":367}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":375}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":393}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":395}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":397}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":405}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":415}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":417}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":419}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":427}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":448}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":450}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":7,"column":9},"generated":{"line":1,"column":454}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":7,"column":9},"generated":{"line":1,"column":456}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":8,"column":5},"generated":{"line":1,"column":464}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":9,"column":5},"generated":{"line":1,"column":471}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":480}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":1,"column":483}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":1,"column":485}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":1,"column":491}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":495}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":499}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":502}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":14,"column":16},"generated":{"line":1,"column":504}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":513}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":514}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":520}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":522}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":524}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":531}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":539}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":543}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":545}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":553}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":554}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":559}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":570}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":580}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":583}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":590}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":592}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":597}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":605}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":613}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":617}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":629}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":634}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":32,"column":25},"generated":{"line":1,"column":643}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":645}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":651}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":656}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":33,"column":29},"generated":{"line":1,"column":669}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":671}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":681}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":686}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":699}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":34,"column":34},"generated":{"line":1,"column":701}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":711}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":1,"column":716}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":728}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":35,"column":33},"generated":{"line":1,"column":730}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":739}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":751}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":756}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":783}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":793}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":799}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":801}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":805}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":807}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":1,"column":815}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":43,"column":12},"generated":{"line":1,"column":824}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":1,"column":826}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":839}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":847}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":1,"column":851}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":1,"column":918}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":1,"column":926}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":17,"column":18},"generated":{"line":1,"column":930}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":951}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":45,"column":11},"generated":{"line":1,"column":957}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":960}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":968}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":972}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":983}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":47,"column":33},"generated":{"line":1,"column":985}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":996}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":1004}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":1011}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":1012}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":1020}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1029}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1034}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":1068}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":1076}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":1078}},{"source":"commands/daemon/index.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":1086}}],"sources":{"commands/daemon/index.ts":"import { Machine } from '@chaosmachine/chaos.js'\nimport logo from 'asciiart-logo'\nimport yargs from 'yargs'\nimport * as config from '../../lib/config'\n\nconst builder = () => {\n  return yargs\n    .help()\n    .version(false)\n}\n\nconst handler = async (argv) => {\n  try {\n    if (!config.exists()) {\n      /* tslint:disable:no-console*/\n      console.log('You need to configure your chaos machine before you the daemon.')\n      console.log('Run: chaos config')\n      /* tslint:enable:no-console*/\n    } else {\n      const opts = config.load()\n\n      /* tslint:disable:no-console*/\n      console.log(\n        logo({\n          font: '3D-ASCII',\n          lineChars: 15,\n          margin: 2,\n          name: 'CHAOS',\n          padding: 5\n        })\n        .emptyLine()\n        .left('ipfs: ' + opts.ipfs)\n        .left('ethereum: ' + opts.ethereum)\n        .left('contract: ' + opts.contract)\n        .left('devices: ' + opts.devices)\n        .emptyLine()\n        .wrap('Have fun burning bills!')\n        .render()\n      )\n      /* tslint:enable:no-console*/\n\n      const machine = new Machine(opts)\n      await machine.start()\n    }\n  } catch (err) {\n    /* tslint:disable:no-console*/\n    console.log('[error] ' + err.message)\n    /* tslint:enable:no-console*/\n  }\n}\n\n/* tslint:disable:object-literal-sort-keys */\nexport const daemon = {\n  command: 'daemon',\n  desc: 'Launch the Chaos Machine daemon',\n  builder,\n  handler\n}\n/* tslint:enable:object-literal-sort-keys */\n"},"lineCount":null}},"hash":"cfc24de4037b2b6e2175eef8032df900","cacheData":{"env":{}}}